import{j as e,m as t}from"./animations-C7zvLhC6.js";import{g as s,a,e as l}from"./vendor-D-wlk8X7.js";import{c as r,_ as n,u as i,f as o}from"./index-lAmFerv5.js";import{S as c,T as d}from"./trophy-BUDFT8MN.js";import{M as m}from"./medal-Bd4A2gbg.js";
/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=r("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var p,u,h={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/const g=s((p||(p=1,u=h,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var l=arguments[t];l&&(e=a(e,s(l)))}return e}function s(s){if("string"==typeof s||"number"==typeof s)return s;if("object"!=typeof s)return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var r in s)e.call(s,r)&&s[r]&&(l=a(l,r));return l}function a(e,t){return t?e?e+" "+t:e+t:e}u.exports?(t.default=t,u.exports=t):window.classNames=t}()),h.exports)),f=({programCategory:t="",programName:s="",stage:l="ON STAGE",records:r=[],defaultBackground:i="",backgroundImage:o=""})=>{const[d,p]=a.useState(!1),u=a.useRef(null),h={1:"#FFD700",2:"#C0C0C0",3:"#CD7F32"};return e.jsxs("div",{className:"w-full max-w-[320px] sm:max-w-[400px] lg:max-w-[500px] mx-auto",children:[e.jsxs("div",{id:"poster-content",ref:u,className:"relative w-full aspect-square overflow-hidden shadow-2xl",style:{backgroundImage:o?`url(${o})`:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/35"}),e.jsx("div",{className:g("absolute inset-0",{"bg-[linear-gradient(45deg,#2e1065,transparent)]":"OFF STAGE"===l,"bg-[linear-gradient(45deg,#78350f,transparent)]":"ON STAGE"===l})}),e.jsxs("div",{className:"relative z-10 w-full h-full p-4 sm:p-6 md:p-8 flex flex-col",children:[e.jsxs("div",{className:"text-center ",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:s}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(c,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400"}),e.jsx("h2",{className:"text-xs sm:text-sm text-yellow-400 font-medium",children:t}),e.jsx(c,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-400"})]})]}),e.jsx("div",{className:"flex-grow flex flex-col justify-center space-y-2 sm:space-y-3",children:Object.entries((e=>{const t={};return e.forEach((e=>{const s=e.fields.Place;t[s]||(t[s]=[]),t[s].push(e)})),t})(r)).map((([t,s])=>s.map(((s,a)=>e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4",children:[e.jsx("div",{className:"p-1.5 sm:p-2 rounded-md sm:rounded-xl bg-white/20",children:e.jsx(m,{className:"w-3 h-3 sm:w-6 sm:h-6",style:{color:h[parseInt(t)]}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-xs sm:text-sm lg:text-base font-bold text-white truncate",children:s.fields.Name}),e.jsx("p",{className:"text-xs text-yellow-400 truncate",children:s.fields.Team})]}),e.jsxs("div",{className:"text-sm sm:text-base lg:text-lg font-bold text-white/50",children:["#",t]})]},`${t}-${a}`)))))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-xs text-white/60",children:"Funoon Fiesta • 2024 - 2025"})})]})]}),e.jsxs("button",{onClick:async()=>{if(u.current&&!d)try{p(!0);const{default:e}=await n((async()=>{const{default:e}=await import("./html2canvas.esm-D9496bDv.js");return{default:e}}),[]),t=u.current.cloneNode(!0);t.style.width="400px",t.style.height="400px",t.style.left="-9999px",document.body.appendChild(t);const a=await e(t,{width:400,height:400,scale:2,useCORS:!0,backgroundColor:null});document.body.removeChild(t);const l=a.toDataURL("image/png",1),r=document.createElement("a");r.download=`${s.toLowerCase().replace(/\s+/g,"-")}-winners.png`,r.href=l,r.click()}catch(e){}finally{p(!1)}},disabled:d,className:"mt-3 sm:mt-4 w-full bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl py-2 sm:py-3 px-4 flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(x,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:d?"Generating...":"Download Poster"})]})]})},w="/assets/poster-DfPZmIBh.jpeg",y=()=>{const{programName:s}=l(),{results:r}=i(),[n,c]=a.useState([]),[m,x]=a.useState({category:"",stage:"ON STAGE"}),p=[w,"/assets/poster1-DZLVP1q7.jpg","/assets/poster2-imUVk4x8.jpg"],u=e=>{switch(e){case 0:return"🥇";case 1:return"🥈";case 2:return"🥉";default:return"🏅"}};return a.useEffect((()=>{if(r.length>0&&s){const e=r.find((e=>e.programName.toUpperCase()===s.toUpperCase())),t=r.filter((e=>e.programName.toUpperCase()===s.toUpperCase())).sort(((e,t)=>t.points-e.points)).slice(0,3).map(((e,t)=>({fields:{Place:(t+1).toString(),Name:e.studentName||"---",Team:e.teamName||"Individual"}})));for(;t.length<3;)t.push({fields:{Place:(t.length+1).toString(),Name:"---",Team:"---"}});c(t),x({category:(null==e?void 0:e.category)||"",stage:(null==e?void 0:e.stage)||"ON STAGE"})}}),[r,s]),e.jsx("div",{className:"min-h-screen p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(t.div,{variants:o("down",.3),initial:"hidden",whileInView:"show",viewport:{once:!1,amount:.7},className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center justify-center gap-2 mb-4",children:[e.jsx(d,{className:"w-8 h-8 text-yellow-500"}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:[s," Winners"]}),e.jsx(d,{className:"w-8 h-8 text-yellow-500"})]}),e.jsxs(t.p,{variants:o("up",.4),className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:["Celebrating excellence and outstanding achievements in ",s]})]}),e.jsx(t.div,{variants:o("up",.5),initial:"hidden",whileInView:"show",viewport:{once:!1,amount:.7},className:"w-full max-w-5xl mx-auto mb-16",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400/20 via-amber-500/20 to-yellow-400/20 rounded-2xl p-8",children:e.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:n.map(((s,a)=>e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2*a},whileHover:{scale:1.05},className:"flex items-center gap-4 bg-white/10 backdrop-blur-sm rounded-xl p-4 w-full md:w-auto",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-4xl",children:u(a)})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-gray-900 dark:text-white font-bold text-lg",children:s.fields.Name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:s.fields.Team})]})]},a)))})})}),e.jsx(t.div,{variants:o("up",.6),initial:"hidden",whileInView:"show",viewport:{once:!1,amount:.3},className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 sm:gap-8 w-full",children:p.map(((a,l)=>e.jsx(t.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2*l},whileHover:{scale:1.02},className:"flex justify-center",children:e.jsx(f,{programName:s,programCategory:m.category,stage:m.stage,records:n,defaultBackground:(m.stage,w),backgroundImage:a})},l)))})]})})};export{y as default};
